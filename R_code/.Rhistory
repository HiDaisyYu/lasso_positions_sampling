naive_SPR_total_spr_neighbours_opt,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+3000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy60.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy60.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,final_phase_ll)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy60.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,final_phase_ll)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy60.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy60.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr$0_phase_ll_per_iteration
greedy_spr$'0_phase_ll_per_iteration'
greedy_spr %>% filter (job_ind==0) %>% select ('0_phase_ll_per_iteration')
new_format_lasso_data %>% distinct (dataset_id, job_ind,MSA_original_n_seq, actual_n_seq)
new_format_lasso_data<- read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/lasso_new_spr.csv")
new_format_lasso_data<- new_format_lasso_data %>%
separate(dataset_id, "_supermatrices_",
into = c("prefix", "last_value"),
remove = FALSE) %>% separate(last_value,"_",into = c("dataset_name", "suffix")) %>%  select(-c("prefix","suffix"))
new_format_lasso_data %>% distinct (dataset_id, job_ind,MSA_original_n_seq, actual_n_seq)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/(('0_phase_brlen_running_time'+'0_phase_no_brlen_running_time')*2))
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/(('0_phase_brlen_running_time'+'0_phase_no_brlen_running_time')*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen = '0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen = '0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
#first_brlen = '0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen = '0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr$'0_phase_brlen_running_time'
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
'0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
x='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
x='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+x)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time, '0_phase_brlen_running_time',
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2+final_phase_brlen_running_time),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
search_time_ratio,opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2+final_phase_brlen_running_time+final_phase_no_brlen_running_time*0.05),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
search_time_ratio,opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2+final_phase_brlen_running_time*10+final_phase_no_brlen_running_time*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
search_time_ratio,opt_ratio, eval_ratio,naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
greedy_spr<-read_csv("/Users/noa/Workspace/lasso_positions_sampling_results/new_greedy30.csv")
greedy_spr %>% select (dataset_id,job_ind,naive_SPR_spr_moves,'0_phase_lasso_SPR_spr_moves',lasso_SPR_final_phase_spr_moves,lasso_SPR_final_phase_ll,naive_SPR_ll, '0_phase_lasso_SPR_ll','0_phase_lasso_SPR_spr_moves',`lasso_test_R^2phase_0`,naive_SPR_ll, lasso_SPR_final_phase_ll, lasso_SPR_final_phase_spr_moves, '0_phase_TRUE_ll_per_iteration', final_phase_ll_per_iteration,naive_SPR_ll_per_iteration, first_eval='0_phase_total_spr_neighbours_evaluated',
first_opt='0_phase_total_spr_neighbours_optimized',
final_phase_total_spr_neighbours_evaluated,
first_no_brlen = '0_phase_no_brlen_running_time',
first_brlen='0_phase_brlen_running_time',
final_phase_total_spr_neighbours_optimized,
naive_SPR_total_spr_neighbours_opt,
rf_best_naive_vs_best_lasso,
first_spr_moves = '0_phase_lasso_SPR_spr_moves',
naive_SPR_total_spr_neighbours_eval,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
'0_phase_no_brlen_running_time',
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time
) %>%
mutate(opt_ratio = naive_SPR_total_spr_neighbours_opt/((first_opt*0.05+ final_phase_total_spr_neighbours_optimized)),
search_time_ratio = ((naive_spr_brlen_running_time+naive_spr_no_brlen_running_time)*10)/((first_no_brlen+first_brlen)*2+final_phase_brlen_running_time*10+final_phase_no_brlen_running_time*2),
eval_ratio = naive_SPR_total_spr_neighbours_eval/((first_eval+final_phase_total_spr_neighbours_evaluated+4000)*0.05)
) %>% select (job_ind,search_time_ratio,opt_ratio, eval_ratio,naive_spr_brlen_running_time,naive_spr_no_brlen_running_time,
, final_phase_brlen_running_time,
final_phase_no_brlen_running_time,
naive_SPR_total_spr_neighbours_eval,first_eval,final_phase_total_spr_neighbours_evaluated,naive_SPR_total_spr_neighbours_opt,first_opt,final_phase_total_spr_neighbours_optimized,naive_SPR_ll,lasso_SPR_final_phase_ll, rf_best_naive_vs_best_lasso)
#select (opt_ratio,naive_SPR_total_spr_neighbours_opt,naive_SPR_spr_moves, first_opt,first_spr_moves,  ,final_phase_total_spr_neighbours_optimized,lasso_SPR_final_phase_spr_moves )
2*(15-3)*((2*15)- 7)
552/10
10/552
100/552
unexplained_variance_data  %>% filter(job_ind==1) %>% group_by(job_ind,actual_n_seq,actual_training_size, actual_sample_pct, actual_n_loci) %>%
ggplot(aes(x=actual_sample_pct,y=unexplained_var, group = as.factor(actual_training_size), color = as.factor(actual_training_size))) +geom_line(size=1) + geom_point(size=2) + scale_x_continuous(labels = scales::percent,breaks = c(0.01,0.025,0.05,0.1)) +labs(color="Training size",x="Sample percentage",y="Unexplained variance (%)", title="Percentage of unexplained variance on test sets") + scale_y_continuous(labels = scales::percent, expand = c(0,0)) +theme_classic()+# coord_cartesian(ylim = c(0, NA))+
facet_grid(rows = vars(actual_n_seq), cols = vars(actual_n_loci)) + theme(axis.text.x = element_text(angle = 60, vjust = 0.9, hjust=1))
2*(6-3)*((2*6)- 7)
